<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
UI.xsd">
	<!-- Localization -->
	<Script file="Localization.de.lua"/>
    <Script file="BossConfigs.lua"/>
	<!-- Scripts -->
	<Script file="RaidSetup.lua"/>

    <!-- Templates -->
    <Button name="GroupDropDownTemplate" inherits="UIDropDownMenuTemplate" clampedToScreen="true" virtual="true">
        <Size><AbsDimension x="128" y="16"/></Size>
        <Scripts><OnShow> RS_DropDown_OnShow() </OnShow></Scripts>
    </Button>

    <Frame name="GroupFrameTemplate" clampedToScreen="true" virtual="true">
        <Scripts>
            <OnLoad>
                    local _title = string.sub(this:GetName() , string.find(this:GetName(), "_%a+")+1) .. "\nRole                              Class                              Player"
                    getfenv()[this:GetName().."_Text"]:SetText(_title or "NONE")
                    this:SetFrameLevel( (this:GetParent()):GetFrameLevel() + 1 );
            </OnLoad>
        </Scripts>
        <Size><AbsDimension x="385" y="150"/></Size>
        <Layers>
            <Layer level="OVERLAY">
                <FontString name="$parent_Text" inherits="GameFontNormal">
                    <Anchors><Anchor point="TOP" /></Anchors>
                    <FontHeight><AbsValue val="20"/></FontHeight>
                </FontString>
            </Layer>
        </Layers>
        <Frames>
            <Button name="$parent_Btn11" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="-20" y="-25"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Btn12" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="110" y="-25"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Btn13" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="240" y="-25"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Btn21" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="-20" y="-51"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Btn22" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="110" y="-51"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Btn23" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="240" y="-51"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Btn31" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="-20" y="-77"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Btn32" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="110" y="-77"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Btn33" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="240" y="-77"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Btn41" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="-20" y="-103"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Btn42" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="110" y="-103"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Btn43" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="240" y="-103"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Btn51" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="-20" y="-129"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Btn52" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="110" y="-129"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Btn53" inherits="GroupDropDownTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="240" y="-129"/></Offset></Anchor></Anchors>
            </Button>
        </Frames>
    </Frame>

	<!-- My AddOn Frames -->
    <Frame name="RaidSetupFrame" toplevel="true" clampedToScreen="true" frameStrata="HIGH" movable="true" enableMouse="true" hidden="true" parent="UIParent" enableKeyboard="true">
        <Size>
            <AbsDimension x="820" y="690"/>
        </Size>
        <Anchors>
            <Anchor point="CENTER"/>
        </Anchors>
		<Scripts>
			<OnLoad>
				RaidSetup_OnLoad()
                this:RegisterForDrag("LeftButton");
                this:SetMovable(1);
			</OnLoad>
			<OnEvent>
				RaidSetup_OnEvent(event)
			</OnEvent>
            <OnDragStart>
                    this:StartMoving();
                    this.isMoving = true;
            </OnDragStart>
            <OnDragStop>
                    this:StopMovingOrSizing();
                    this.isMoving = false;
            </OnDragStop>
		</Scripts>
        <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true">
            <BackgroundInsets left="4" right="4" top="4" bottom="4" />
            <TileSize val="12" />
            <EdgeSize val="12" />
            <Color r="0.157" g="0.08" b="0.06" a="1.0" />
        </Backdrop>
        <Frames>
            <Frame name="$parent_Grp1" inherits="GroupFrameTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="15" y="-45"/></Offset></Anchor></Anchors>
            </Frame>
            <Frame name="$parent_Grp2" inherits="GroupFrameTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="415" y="-45"/></Offset></Anchor></Anchors>
            </Frame>
            <Frame name="$parent_Grp3" inherits="GroupFrameTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="15" y="-205"/></Offset></Anchor></Anchors>
            </Frame>
            <Frame name="$parent_Grp4" inherits="GroupFrameTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="415" y="-205"/></Offset></Anchor></Anchors>
            </Frame>
            <Frame name="$parent_Grp5" inherits="GroupFrameTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="15" y="-365"/></Offset></Anchor></Anchors>
            </Frame>
            <Frame name="$parent_Grp6" inherits="GroupFrameTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="415" y="-365"/></Offset></Anchor></Anchors>
            </Frame>
            <Frame name="$parent_Grp7" inherits="GroupFrameTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="15" y="-525"/></Offset></Anchor></Anchors>
            </Frame>
            <Frame name="$parent_Grp8" inherits="GroupFrameTemplate">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="415" y="-525"/></Offset></Anchor></Anchors>
            </Frame>

            <Button name="$parent_CloseButton" inherits="UIPanelCloseButton">
                <Anchors>
                    <Anchor point="TOPRIGHT" relativeTo="$parent" relativePoint="TOPRIGHT">
                        <Offset>
                            <AbsDimension x="-10" y="-10"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                            RaidSetupFrame:Hide();
                    </OnClick>
                    <OnShow>
                            this:SetFrameLevel( (this:GetParent()):GetFrameLevel() + 1 );
                    </OnShow>
                </Scripts>
            </Button>
            <Button name="$parent_Instance" inherits="GroupDropDownTemplate" text="Select Instance">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="-5" y="-15"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Boss" inherits="GroupDropDownTemplate" text="Select Boss">
                <Anchors><Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                    <Offset><AbsDimension x="125" y="-15"/></Offset></Anchor></Anchors>
            </Button>
            <Button name="$parent_Save" inherits="OptionsButtonTemplate" text="Save Setup">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="280" y="-15"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                            SaveSetup(getglobal("RaidSetupFrame_Instance").selectedValue, getglobal("RaidSetupFrame_Boss").selectedValue)
                    </OnClick>
                    <OnShow>
                            this:SetFrameLevel( (this:GetParent()):GetFrameLevel() + 1 );
                    </OnShow>
                </Scripts>
            </Button>
            <Button name="$parent_Load" inherits="OptionsButtonTemplate" text="Load Setup">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="370" y="-15"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                            LoadSetup(getglobal("RaidSetupFrame_Instance").selectedValue, getglobal("RaidSetupFrame_Boss").selectedValue)
                    </OnClick>
                    <OnShow>
                            this:SetFrameLevel( (this:GetParent()):GetFrameLevel() + 1 );
                    </OnShow>
                </Scripts>
            </Button>
            <Button name="$parent_Build" inherits="OptionsButtonTemplate" text="Build Group">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="460" y="-15"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                            --UpdateRaid()
                    </OnClick>
                    <OnShow>
                            this:SetFrameLevel( (this:GetParent()):GetFrameLevel() + 1 );
                    </OnShow>
                </Scripts>
            </Button>
        </Frames>
        <Layers>
            <Layer level="OVERLAY">
                <FontString name="$parent_Text" inherits="GameFontNormal" justifyH="LEFT" text="">
                    <Anchors>
                        <Anchor point="BOTTOMRIGHT" />
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
	</Frame>
</Ui>